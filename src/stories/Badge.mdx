import { Meta, Canvas, Controls, Story, ArgTypes } from '@storybook/addon-docs/blocks';
import BadgeMeta, * as BadgeStories from '../components/ui/Badge/Badge.stories';
import { Badge, BadgeGroup } from '../components/ui/Badge';

<Meta of={BadgeStories} title="Documentation/Base UI/Badge" />

# Badge Component

The Badge component displays small status indicators, labels, or counts. It's designed for highlighting key information and metadata in a compact, visually distinct way.

## Overview

Badges are versatile UI elements used throughout the application to convey status, categorize content, display counts, or highlight new features. They support multiple variants, sizes, and can be grouped together.

<Canvas of={BadgeStories.Default} />

## Props

<ArgTypes of={Badge} />

## Detailed Props Documentation

### `variant`
**Type:** `'default' | 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'info' | 'new' | 'hot' | 'sale' | 'outline' | 'solid-*' | 'outline-*'`  
**Default:** `'default'`

Controls the badge color and style with three main categories:

#### Standard Variants
- **default**: Neutral gray for general use
- **primary**: Main brand color for emphasis
- **secondary**: Secondary actions or information
- **success**: Positive states or confirmations
- **warning**: Cautions or pending states
- **error**: Errors or critical issues
- **info**: Informational content

#### Special Variants
- **new**: Highlight new items with pulse animation
- **hot**: Trending or popular items (red gradient)
- **sale**: Sale items (green gradient)
- **outline**: Basic outline style (legacy)

#### Solid Variants (High Contrast)
- **solid-default**: Opaque gray background - best for game cards
- **solid-primary**: Opaque primary color background
- **solid-secondary**: Opaque secondary color background
- **solid-success**: Opaque success color background
- **solid-error**: Opaque error color background
- **solid-warning**: Opaque warning color background
- **solid-info**: Opaque info color background

#### Outline Variants (Subtle)
- **outline-default**: Transparent with gray border
- **outline-primary**: Transparent with primary color border
- **outline-secondary**: Transparent with secondary color border
- **outline-success**: Transparent with success color border
- **outline-error**: Transparent with error color border
- **outline-warning**: Transparent with warning color border
- **outline-info**: Transparent with info color border

<Canvas of={BadgeStories.Variants} />

### `size`
**Type:** `'xs' | 'sm' | 'md' | 'lg'`  
**Default:** `'sm'`

Controls the badge size:

- **xs**: Extra small - Inline with text (16px height)
- **sm**: Small - Default size (20px height)
- **md**: Medium - Standard badges (24px height)
- **lg**: Large - Prominent badges (28px height)

<Canvas of={BadgeStories.Sizes} />

### `icon`
**Type:** `React.ReactNode`  
**Default:** `undefined`

Optional icon to display before the text:

```tsx
<Badge icon={<Star className="w-3 h-3" />}>
  Featured
</Badge>
```

### `gap`
**Type:** `'none' | 'xs' | 'sm' | 'md' | 'lg'`  
**Default:** `'sm'`

Controls the spacing between icon and text:

- **none**: No gap between icon and text
- **xs**: Extra small gap (4px)
- **sm**: Small gap - Default (8px)
- **md**: Medium gap (12px)
- **lg**: Large gap (16px)

```tsx
<Badge icon={<Star className="w-3 h-3" />} gap="md">
  Featured
</Badge>
```

### `removable`
**Type:** `boolean`  
**Default:** `false`

Shows a remove/close button:

```tsx
<Badge 
  removable
  onRemove={() => console.log('Removed')}
>
  Tag
</Badge>
```

### `pulse`
**Type:** `boolean`  
**Default:** `false`

Adds a pulsing animation for attention:

```tsx
<Badge variant="new" pulse>
  NEW
</Badge>
```

### `dot`
**Type:** `boolean`  
**Default:** `false`

Shows only a colored dot (no text):

```tsx
<Badge variant="success" dot />
```

### `outline`
**Type:** `boolean`  
**Default:** `false`

Uses outline style instead of filled:

```tsx
<Badge variant="primary" outline>
  Outlined
</Badge>
```

### `rounded`
**Type:** `'sm' | 'md' | 'lg' | 'full'`  
**Default:** `'md'`

Controls border radius:

```tsx
<Badge rounded="full">
  Pill Badge
</Badge>
```

## Usage Examples

### Basic Badges

```tsx
import { Badge } from '@/components/ui/Badge';

function StatusBadges() {
  return (
    <div className="flex gap-2">
      <Badge variant="success">Active</Badge>
      <Badge variant="warning">Pending</Badge>
      <Badge variant="error">Expired</Badge>
      <Badge variant="info">Info</Badge>
    </div>
  );
}
```

### With Icons

```tsx
import { Badge } from '@/components/ui/Badge';
import { Trophy, Flame, Star } from 'lucide-react';

function IconBadges() {
  return (
    <>
      <Badge icon={<Trophy className="w-3 h-3" />} variant="primary">
        Winner
      </Badge>
      
      <Badge icon={<Flame className="w-3 h-3" />} variant="hot">
        Trending
      </Badge>
      
      <Badge icon={<Star className="w-3 h-3" />} variant="info">
        Featured
      </Badge>
    </>
  );
}
```

### Icon Gap Control

<Canvas of={BadgeStories.IconGapVariations} />

```tsx
// Control spacing between icon and text
<Badge icon={<Star />} gap="none">No Gap</Badge>
<Badge icon={<Star />} gap="xs">Extra Small</Badge>
<Badge icon={<Star />} gap="sm">Small (Default)</Badge>
<Badge icon={<Star />} gap="md">Medium</Badge>
<Badge icon={<Star />} gap="lg">Large</Badge>
```

### Game Card Badges (New Solid Variants)

<Canvas of={BadgeStories.GameCardBadges} />

```tsx
function GameCardBadges({ game }) {
  return (
    <div className="relative">
      {/* Game Type Badge - Using solid variant for high visibility */}
      <div className="absolute bottom-2 left-2">
        <Badge 
          variant={getGameTypeBadgeVariant(game.type)}
          size="sm"
        >
          {game.type.toUpperCase()}
        </Badge>
      </div>
      
      {/* Status Badges - Special variants */}
      <div className="absolute top-2 left-2 flex gap-1">
        {game.isNew && (
          <Badge variant="new" pulse size="sm">
            NEW
          </Badge>
        )}
        
        {game.isHot && (
          <Badge variant="hot" size="sm">
            HOT
          </Badge>
        )}
        
        {game.isOnSale && (
          <Badge variant="sale" size="sm">
            SALE
          </Badge>
        )}
      </div>
      
      {/* Game Tags - Using outline variants for subtlety */}
      {game.tags && (
        <BadgeGroup gap="sm">
          {game.tags.slice(0, 3).map((tag) => (
            <Badge
              key={tag}
              variant="outline-default"
              size="sm"
              rounded="md"
            >
              {tag}
            </Badge>
          ))}
          {game.tags.length > 3 && (
            <Badge variant="outline-default" size="sm" rounded="md">
              +{game.tags.length - 3}
            </Badge>
          )}
        </BadgeGroup>
      )}
    </div>
  );
}

// Helper function for game type badge variants
function getGameTypeBadgeVariant(type) {
  const typeMap = {
    slots: 'solid-warning',
    table: 'solid-success', 
    live: 'solid-error',
    instant: 'solid-info',
    jackpot: 'solid-primary'
  };
  return typeMap[type] || 'solid-default';
}
```

### Variant Comparison Examples

<Canvas of={BadgeStories.VariantComparison} />

```tsx
// Compare different variant styles
function VariantShowcase() {
  return (
    <div className="space-y-4">
      {/* Standard - Semi-transparent backgrounds */}
      <div className="flex gap-2">
        <Badge variant="primary">Primary</Badge>
        <Badge variant="success">Success</Badge>
        <Badge variant="error">Error</Badge>
      </div>
      
      {/* Solid - Full opacity, high contrast (best for game cards) */}
      <div className="flex gap-2">
        <Badge variant="solid-primary">Solid Primary</Badge>
        <Badge variant="solid-success">Solid Success</Badge>
        <Badge variant="solid-error">Solid Error</Badge>
      </div>
      
      {/* Outline - Subtle, transparent backgrounds */}
      <div className="flex gap-2">
        <Badge variant="outline-primary">Outline Primary</Badge>
        <Badge variant="outline-success">Outline Success</Badge>
        <Badge variant="outline-error">Outline Error</Badge>
      </div>
    </div>
  );
}
```

### Removable Tags

```tsx
function TagList() {
  const [tags, setTags] = useState(['Action', 'RPG', 'Multiplayer']);
  
  const removeTag = (index: number) => {
    setTags(tags.filter((_, i) => i !== index));
  };
  
  return (
    <div className="flex flex-wrap gap-2">
      {tags.map((tag, index) => (
        <Badge
          key={tag}
          removable
          onRemove={() => removeTag(index)}
          variant="secondary"
        >
          {tag}
        </Badge>
      ))}
    </div>
  );
}
```

### Count Badges

```tsx
function NotificationBadge({ count }) {
  return (
    <div className="relative">
      <Bell className="w-6 h-6" />
      {count > 0 && (
        <Badge
          variant="error"
          size="xs"
          rounded="full"
          className="absolute -top-1 -right-1"
        >
          {count > 99 ? '99+' : count}
        </Badge>
      )}
    </div>
  );
}
```

### Badge Groups

```tsx
import { BadgeGroup } from '@/components/ui/Badge';

function FilterBadges() {
  return (
    <BadgeGroup>
      <Badge variant="primary">All Games</Badge>
      <Badge>Slots</Badge>
      <Badge>Table Games</Badge>
      <Badge>Live Casino</Badge>
    </BadgeGroup>
  );
}
```

### Status Dots

```tsx
function StatusIndicator({ status }) {
  const variant = {
    online: 'success',
    offline: 'default',
    busy: 'warning',
    error: 'error'
  }[status];
  
  return (
    <div className="flex items-center gap-2">
      <Badge variant={variant} dot />
      <span>{status}</span>
    </div>
  );
}
```

## Accessibility

The Badge component follows accessibility best practices:

- **Semantic HTML**: Uses appropriate elements
- **Screen readers**: Proper text alternatives
- **Color contrast**: Meets WCAG AAA standards
- **Keyboard**: Removable badges are keyboard accessible
- **ARIA labels**: Clear labels for interactive badges

### ARIA Attributes

```tsx
<Badge
  removable
  onRemove={handleRemove}
  aria-label="Remove JavaScript tag"
>
  JavaScript
</Badge>
```

## Design Tokens

```css
/* Sizes */
--badge-height-xs: 1rem;     /* 16px */
--badge-height-sm: 1.25rem;  /* 20px */
--badge-height-md: 1.5rem;   /* 24px */
--badge-height-lg: 1.75rem;  /* 28px */

/* Padding */
--badge-padding-xs: 0.125rem 0.375rem;
--badge-padding-sm: 0.25rem 0.5rem;
--badge-padding-md: 0.375rem 0.625rem;
--badge-padding-lg: 0.5rem 0.75rem;

/* Font sizes */
--badge-font-xs: 0.625rem;   /* 10px */
--badge-font-sm: 0.75rem;    /* 12px */
--badge-font-md: 0.875rem;   /* 14px */
--badge-font-lg: 1rem;       /* 16px */
```

## Best Practices

### Do's ✅

- Use semantic variants for status
- Keep badge text concise (1-2 words)
- Group related badges together
- Use consistent sizing within contexts
- Test color contrast in both themes
- Provide remove functionality when appropriate

### Don'ts ❌

- Don't use too many badges at once
- Don't use long text in badges
- Don't mix too many variants
- Don't use badges for primary actions
- Don't rely only on color to convey meaning
- Don't make badges too small on mobile

## Responsive Design

Badges adapt to different screen sizes:

- **Mobile**: Slightly larger touch targets
- **Tablet**: Standard sizing
- **Desktop**: Full range of sizes

<Canvas of={BadgeStories.Mobile} />

## Theme Support

Full support for all four themes - automatically adapts colors and styles:

### Light & Dark Themes
<Canvas of={BadgeStories.DarkMode} />
<Canvas of={BadgeStories.LightMode} />

### Neon & Gold Themes
<Canvas of={BadgeStories.NeonTheme} />
<Canvas of={BadgeStories.GoldTheme} />

### All Themes Comparison
<Canvas of={BadgeStories.AllThemes} />

The Badge component automatically adapts to the active theme:
- **Light**: High contrast with subtle backgrounds
- **Dark**: Inverted colors maintaining readability
- **Neon**: Glowing effects with cyberpunk aesthetics
- **Gold**: Luxurious golden tones for premium feel

## Common Patterns

### Filter Badges with Count

```tsx
function ActiveFilters({ filters, onRemove }) {
  return (
    <div className="flex items-center gap-2">
      <span className="text-sm">Active filters:</span>
      {filters.map(filter => (
        <Badge
          key={filter.id}
          removable
          onRemove={() => onRemove(filter.id)}
          variant="primary"
        >
          {filter.label}
        </Badge>
      ))}
      <Badge variant="info">
        {filters.length} total
      </Badge>
    </div>
  );
}
```

### Badge with Tooltip

```tsx
import { Tooltip } from '@/components/ui/Tooltip';

function BadgeWithTooltip() {
  return (
    <Tooltip content="This game was added in the last 7 days">
      <Badge variant="new" pulse>
        NEW
      </Badge>
    </Tooltip>
  );
}
```

### Dynamic Badge Colors

```tsx
function PriorityBadge({ priority }) {
  const variant = {
    low: 'info',
    medium: 'warning',
    high: 'error',
    critical: 'error'
  }[priority];
  
  return (
    <Badge variant={variant} size="sm">
      {priority.toUpperCase()}
    </Badge>
  );
}
```

## Migration Guide

From custom badge implementations:

1. Replace custom badge elements with `Badge` component
2. Map color classes to `variant` prop
3. Use `size` prop instead of custom sizing
4. Replace close buttons with `removable` prop
5. Use `BadgeGroup` for grouped badges

## Related Components

- [Alert](/?path=/docs/documentation-alert--docs) - For messages
- [Button](/?path=/docs/documentation-button--docs) - For actions
- [Tooltip](/?path=/docs/documentation-tooltip--docs) - For additional info
- [GameCard](/?path=/docs/documentation-gamecard--docs) - Uses badges

## Performance

- Minimal DOM for dot badges
- CSS-based animations
- Optimized with React.memo
- Efficient event handling

## FAQ

**Q: When should I use a badge vs button?**  
A: Badges display status/info, buttons trigger actions.

**Q: Can I customize badge colors?**  
A: Use CSS variables to customize variant colors.

**Q: How many badges should I show?**  
A: Limit to 3-5 badges to avoid visual clutter.

**Q: Should badges be removable?**  
A: Only if they represent user-controlled tags/filters.