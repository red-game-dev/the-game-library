/**
 * Base Button Component Styles
 * Generic button interactive states and styling
 */

/* Base button styles */
.btn {
  &:disabled {
    transform: none !important;
    filter: none !important;
  }
}

/* Icon-only button modifier */
.btn-icon {
  aspect-ratio: 1;
  padding: 0 !important;
  
  /* Size-specific icon button dimensions */
  &.btn-size-xs {
    width: var(--w-7-5);
    height: var(--h-7-5);
  }
  
  &.btn-size-sm {
    width: var(--w-9);
    height: var(--h-9);
  }
  
  &.btn-size-md {
    width: var(--w-11);
    height: var(--h-11);
  }
  
  &.btn-size-lg {
    width: var(--w-13);
    height: var(--h-13);
  }
  
  &.btn-size-xl {
    width: var(--w-15);
    height: var(--h-15);
  }
}

/* Primary variant */
.btn-primary {
  background: var(--button-primary-bg);
  color: var(--button-primary-text);
  border: 1px solid var(--button-primary-border);
  
  &:hover:not(:disabled) {
    background: var(--button-primary-bg-hover);
    box-shadow: var(--shadow-xl);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background: var(--button-primary-bg-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-primary-focus-shadow);
  }
}

/* Secondary variant */
.btn-secondary {
  background: var(--button-secondary-bg);
  color: var(--button-secondary-text);
  border: 1px solid var(--button-secondary-border);
  
  &:hover:not(:disabled) {
    background-color: var(--button-secondary-bg-hover);
    color: var(--button-secondary-text-hover, var(--button-secondary-text));
    box-shadow: var(--shadow-lg);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background-color: var(--button-secondary-bg-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-secondary-focus-shadow);
  }
}

/* Accent variant */
.btn-accent {
  background: var(--button-accent-bg);
  color: var(--button-accent-text);
  border: 1px solid var(--button-accent-border);
  
  &:hover:not(:disabled) {
    background: var(--button-accent-bg-hover);
    box-shadow: var(--shadow-xl);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background: var(--button-accent-bg-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-accent-focus-shadow);
  }
}

/* Success variant */
.btn-success {
  background: var(--button-success-bg);
  color: var(--button-success-text);
  border: 1px solid var(--button-success-border);
  
  &:hover:not(:disabled) {
    background: var(--button-success-bg-hover);
    box-shadow: var(--shadow-lg);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background: var(--button-success-bg-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-success-focus-shadow);
  }
}

/* Error variant */
.btn-error {
  background: var(--button-error-bg);
  color: var(--button-error-text);
  border: 1px solid var(--button-error-border);
  
  &:hover:not(:disabled) {
    background: var(--button-error-bg-hover);
    box-shadow: var(--shadow-lg);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background: var(--button-error-bg-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-error-focus-shadow);
  }
}

/* Warning variant */
.btn-warning {
  background: var(--button-warning-bg);
  color: var(--button-warning-text);
  border: 1px solid var(--button-warning-border);
  
  &:hover:not(:disabled) {
    background: var(--button-warning-bg-hover);
    box-shadow: var(--shadow-lg);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background: var(--button-warning-bg-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-warning-focus-shadow);
  }
}

/* Ghost variant */
.btn-ghost {
  background-color: var(--button-ghost-bg);
  color: var(--button-ghost-text);
  border: 1px solid var(--button-ghost-border);
  
  &:hover:not(:disabled) {
    background-color: var(--button-ghost-bg-hover);
    border-color: var(--button-ghost-border-hover);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    background-color: var(--button-ghost-bg-active);
    border-color: var(--button-ghost-border-active);
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-ghost-focus-shadow);
  }
}

/* Loading state spinner styling */
.btn-spinner {
  color: currentColor;
  opacity: 1;
}

/* Ensure spinner is visible in all button variants */
.btn-primary .btn-spinner,
.btn-secondary .btn-spinner,
.btn-accent .btn-spinner,
.btn-success .btn-spinner,
.btn-error .btn-spinner,
.btn-warning .btn-spinner {
  color: var(--button-spinner-light);
}

.btn-outline .btn-spinner {
  color: currentColor;
}

.btn-ghost .btn-spinner {
  color: var(--button-ghost-spinner);
}

.btn-link .btn-spinner {
  color: var(--button-link-spinner);
}

/* Ensure loading text is visible */
.btn-ghost span,
.btn-outline span,
.btn-link span {
  color: currentColor;
}

/* Disabled state should maintain visibility */
.btn:disabled .btn-spinner {
  opacity: 1;
}

.btn:disabled span {
  opacity: 1;
}

/* Outline variants - base */
.btn-outline {
  background-color: transparent !important;
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-bg-hover, transparent) !important;
    color: var(--button-outline-text-hover);
    transform: scale(1.02);
  }
  
  &:active:not(:disabled) {
    transform: scale(0.98);
  }
  
  &:focus-visible {
    outline: none;
  }
}

/* Outline color variations */
.btn-outline-purple {
  background-color: transparent;
  border-color: var(--button-outline-purple-border);
  color: var(--button-outline-purple-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-purple-bg-hover);
    color: var(--button-outline-purple-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-purple-focus-shadow);
  }
}


.btn-outline-blue {
  background-color: transparent;
  border-color: var(--button-outline-blue-border);
  color: var(--button-outline-blue-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-blue-bg-hover);
    color: var(--button-outline-blue-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-blue-focus-shadow);
  }
}

.btn-outline-green {
  background-color: transparent;
  border-color: var(--button-outline-green-border);
  color: var(--button-outline-green-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-green-bg-hover);
    color: var(--button-outline-green-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-green-focus-shadow);
  }
}

.btn-outline-red {
  background-color: transparent;
  border-color: var(--button-outline-red-border);
  color: var(--button-outline-red-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-red-bg-hover);
    color: var(--button-outline-red-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-red-focus-shadow);
  }
}

.btn-outline-orange {
  background-color: transparent;
  border-color: var(--button-outline-orange-border);
  color: var(--button-outline-orange-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-orange-bg-hover);
    color: var(--button-outline-orange-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-orange-focus-shadow);
  }
}

.btn-outline-cyan {
  background-color: transparent;
  border-color: var(--button-outline-cyan-border);
  color: var(--button-outline-cyan-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-cyan-bg-hover);
    color: var(--button-outline-cyan-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-cyan-focus-shadow);
  }
}

.btn-outline-pink {
  background-color: transparent;
  border-color: var(--button-outline-pink-border);
  color: var(--button-outline-pink-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-pink-bg-hover);
    color: var(--button-outline-pink-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-pink-focus-shadow);
  }
}

.btn-outline-gray {
  background-color: transparent;
  border-color: var(--button-outline-gray-border);
  color: var(--button-outline-gray-text);
  
  &:hover:not(:disabled) {
    background-color: var(--button-outline-gray-bg-hover);
    color: var(--button-outline-gray-text-hover);
  }
  
  &:focus-visible {
    box-shadow: var(--button-outline-gray-focus-shadow);
  }
}

/* Link variant */
.btn-link {
  color: var(--button-link-text);
  
  &:hover:not(:disabled) {
    color: var(--button-link-text-hover);
    text-decoration: underline;
    text-underline-offset: 4px;
    transform: none;
  }
  
  &:active:not(:disabled) {
    color: var(--button-link-text-active);
    transform: none;
  }
  
  &:focus-visible {
    outline: none;
    box-shadow: var(--button-link-focus-shadow);
  }
}

.btn-glow {
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: var(--button-glow-overlay);
    transform: translate(-50%, -50%);
    transition: width var(--duration-400), height var(--duration-400);
  }
  
  &:hover::before {
    width: 300%;
    height: 300%;
  }
  
  &:hover {
    box-shadow: var(--button-glow-shadow);
  }
}


.alert-actions:not(.alert-actions-inline) .btn {
  width: 100% !important;
  display: flex !important;
}

@media (min-width: 820px) {
  .alert-actions:not(.alert-actions-inline) .btn {
    width: auto !important;
    display: inline-flex !important;
  }
}